<html>
  <head>
    <title>JS13K 2024: SuperFIGHT VR</title>
    <script src="https://js13kgames.com/webxr-src/2024/aframe.js"></script>
    <script src="game.js"></script>
  </head>
  <body>
    <a-scene obb-collider="showColliders: false" debug-console>
      <a-entity id="title" level>
        <a-text
          value="SuperFRIGHT VR"
          align="center"
          color="white"
          font="monoid"
          width="20"
          position="0 3 -5"
        ></a-text>

        <a-portal to="#level_1" text-value="GRAB" text-width="1.75"
          position="0 1.2 -0.5"></a-portal>
      </a-entity>

      <a-entity id="level_1" level="gameTimeTracked: true">
        <a-gun gravity position="0 1.5 -0.5"></a-gun>

        
        <!-- puppet -->
        <a-cylinder
          id="puppet_1"
          position="0 1 -4"
          radius="0.5"
          height="2"
          color="#FFC65D"
        >
          <a-sphere position="0 0.5 0.5" radius="0.25" color="#EF2D5E" dynamic-collider health></a-sphere>
        </a-cylinder>
        <a-plane
          position="0 0 -3"
          rotation="-90 0 0"
          width="5"
          height="5"
          color="#7BC8A4"
        ></a-plane>

        <a-portal to="#level_2" text-value="Level 2" text-width="1.75"
          position="0.5 1.2 -0.5"></a-portal>
      </a-entity>

      <a-entity id="level_2" level="gameTimeTracked: true">
        <a-gun gravity position="0 1.5 -0.5"></a-gun>

        <a-plane
          position="0 0 -3"
          rotation="-90 0 0"
          width="5"
          height="5"
          color="blue"
        ></a-plane>
        <a-portal to="#title" text-value="Title" text-width="1.75"
        position="-0.5 1.2 -0.5"></a-portal>

      </a-entity>

      <a-sky color="#ddd"></a-sky>
      <a-sphere id="world" color="blue" radius="1000" material="shader: flat; wireframe: true; side: back"></a-sphere>

      <a-camera motion-tracker>
        <!-- sorta HUD -->
        <a-text 
          value="0.00s"
          align="center"
          color="black"
          font="monoid"
          position="0 0.65 -1.5"
          game-time
          ></a-text>
        <!-- sorta player head & body -->
        <a-box id="player"
               height="1.8"
               width="0.5"
               depth="0.3"
               position="0 0.9 0.35"
               obb-collider
               health
        ></a-box>
      </a-camera>

      <a-entity id="left"
                hand-controls="hand: left; handModelStyle: toon"
                position="-0.5 1 0"
                health
                obb-collider="size: 0.1"
                motion-tracker
                gesture-tracker
      ></a-entity>
      <a-entity id="right"
                hand-controls="hand: right; handModelStyle: toon"
                position="0.5 1 0"
                health
                obb-collider="size: 0.1"
                motion-tracker
                gesture-tracker
      ></a-entity>

    </a-scene>
  </body>
</html>
